{{- $description := "" }}
{{- if .Description }}
  {{- $description = .Description }}
{{- else if .IsPage }}
  {{- $description = .Summary }}
{{- else if .Site.Params.description }}
  {{- $description = .Site.Params.description }}
{{- end }}
{{- return ($description | plainify | replaceRE `\s+` " " | truncate 100) }}