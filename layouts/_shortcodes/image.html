{{- /* --- Parameters: Image --- */ -}}
{{- $src := partial "links/portable-image" (dict "Page" .Page "Destination" (.Get "src")) -}}
{{- $alt := .Get "alt" -}}
{{- $class := .Get "class" -}}
{{- $title := .Get "title" -}}
{{- $loading := .Get "loading" -}}
{{- $align := .Get "align" -}}
{{- /* --- Parameters: Anchor --- */ -}}
{{- $href := .Get "href" -}}
{{- $target := .Get "target" | default "_blank" -}}
{{- /* --- Parameters: Size --- */ -}}
{{- $size := slice -}}
{{- with .Get "width" | default "100%" -}}{{- $size = $size | append (print "width: " .) -}}{{- end -}}
{{- with .Get "min-width" -}}{{- $size = $size | append (print "min-width: " .) -}}{{- end -}}
{{- with .Get "max-width" -}}{{- $size = $size | append (print "max-width: " .) -}}{{- end -}}
{{- with .Get "height" | default "100%" -}}{{- $size = $size | append (print "height: " .) -}}{{- end -}}
{{- with .Get "min-height" -}}{{- $size = $size | append (print "min-height: " .) -}}{{- end -}}
{{- with .Get "max-height" -}}{{- $size = $size | append (print "max-height: " .) -}}{{- end -}}
{{- /* --- Render --- */ -}}
<label class="sc-image" for="sc-image-toggle-{{ .Ordinal }}" {{- with $align }}style="text-align: {{ . }};"{{ end -}}>
  <input class="hidden toggle" type="checkbox" id="sc-image-toggle-{{ .Ordinal }}" />
  {{- with $href }}<a href="{{ . }}" target="{{ $target }}">{{- end }}
  <img src="{{ $src }}"
    {{- with $alt }}alt="{{ . }}"{{ end -}}
    {{- with $class }}class="{{ . }}"{{ end -}}
    {{- with $title }}title="{{ . }}"{{ end -}}
    {{- with $loading }}loading="{{ . }}"{{ end -}}
    {{- with $size }}style="{{ delimit . `; ` }}"{{ end -}}>
  {{- with $href }}</a>{{- end }}
</label>